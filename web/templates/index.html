<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Plex DB</title>
    <link rel="stylesheet" type="text/css"
          href="{{ static_url('bower_components/bootstrap/dist/css/bootstrap.min.css') }}">
    <link rel="stylesheet" type="text/css"
          href="{{ static_url('bower_components/datatables/media/css/dataTables.bootstrap.min.css') }}">
    <link rel="stylesheet" type="text/css"
          href="{{ static_url('style.css') }}">
</head>
<body>
<nav class="nav navbar-inverse">
    <div class="container-fluid">
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li id='watched' class="active">
                    <a onclick="plexdb.loadDataTable('#watched_table', '/api/watched')"
                       href="#">Watched</a>
                </li>
                <li id='unwatched'>
                    <a onclick="plexdb.loadDataTable('#unwatched_table', '/api/unwatched')"
                       href="#">Unwatched</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="data">
    <div id='watched_data' class="tabledata">
        <table id='watched_table' class="table table-condensed">
            <thead>
            <tr>
                <th>Account</th>
                <th>Title</th>
                <th>Views</th>
            </tr>
            </thead>
        </table>
    </div>

    <div id='unwatched_data' class="tabledata hidden">
        <table id="unwatched_table" class="table table-condensed">
            <thead>
            <tr>
                <th>Title</th>
                <th>Type</th>
                <th>Count</th>
            </tr>
            </thead>
        </table>
    </div>
</div>

<footer>
    <script type="text/javascript"
            src="{{ static_url('bower_components/jquery/dist/jquery.min.js') }}"></script>
    <script type="text/javascript"
            src="{{ static_url('bower_components/bootstrap/dist/js/bootstrap.min.js') }}"></script>
    <script type="text/javascript"
            src="{{ static_url('bower_components/datatables/media/js/jquery.dataTables.min.js') }}"></script>
    <script type="text/javascript"
            src="{{ static_url('bower_components/datatables/media/js/dataTables.bootstrap.min.js') }}"></script>
    <script type="text/javascript"
            src="{{ static_url('plexdb.js') }}"></script>
    <script>
        plexdb.initDataTable(
                '#watched_table',
                '/api/watched',
                [{data: 'name'}, {data: 'title'}, {data: 'view_count'}]
        );
        plexdb.initDataTable(
                '#unwatched_table',
                '/api/empty',
                [{data: 'parent_name'}, {data: 'show_type'}, {data: 'count'}],
                [{type: 'xofy', targets: -1}]
        );
    </script>
</footer>
</body>
</html>